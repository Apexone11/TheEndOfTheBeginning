/* 
 * GAME STYLESHEET - The End The Beginning: Dungeon Escape v5.0.0
 * Dark Fantasy Theme with Design Tokens
 * Enhanced with improved animations and visual feedback
 * Author: Abdul Fornah
 */

/* ===== DESIGN TOKENS - Dark Fantasy Theme ===== */
.root {
    /* Color Tokens - Dark Fantasy Palette */
    -color-bg: #0a0a0a;
    -color-surface: #1a1a1a;
    -color-surface-elevated: #262626;
    -color-surface-hover: #2a2a2a;
    -color-primary: #8b4513;
    -color-primary-hover: #a0522d;
    -color-accent: #b8860b;
    -color-accent-hover: #daa520;
    -color-danger: #8b0000;
    -color-danger-hover: #a00000;
    -color-success: #006400;
    -color-success-hover: #008000;
    -color-text: #f0f0f0;
    -color-text-muted: #888888;
    -color-text-disabled: #555555;
    -color-border: #444444;
    -color-border-focus: #b8860b;
    
    /* Glow Effects */
    -fx-glow-gold: rgba(218, 165, 32, 0.6);
    -fx-glow-red: rgba(220, 20, 60, 0.6);
    -fx-glow-green: rgba(50, 205, 50, 0.6);
    -fx-glow-primary: rgba(139, 69, 19, 0.5);
    
    /* Spacing Tokens */
    -spacing-xs: 4px;
    -spacing-sm: 8px;
    -spacing-md: 12px;
    -spacing-lg: 16px;
    -spacing-xl: 24px;
    -spacing-xxl: 32px;
    
    /* Border Radius Tokens */
    -radius-sm: 4px;
    -radius-md: 8px;
    -radius-lg: 12px;
    -radius-xl: 16px;
    -radius-full: 9999px;
    
    /* Font Tokens */
    -fx-font-family-title: "Segoe UI Black", "Arial Black", sans-serif;
    -fx-font-family-body: "Segoe UI", "Arial", sans-serif;
    -fx-font-family-mono: "Consolas", "Courier New", monospace;
    
    /* Legacy compatibility - map to new tokens */
    -fx-dark-bg: -color-bg;
    -fx-darker-bg: -color-surface;
    -fx-accent: -color-accent;
    -fx-accent-hover: -color-accent-hover;
    -fx-danger: -color-danger;
    -fx-success: -color-success;
    -fx-text-primary: -color-text;
    -fx-text-secondary: -color-text;
    -fx-text-muted: -color-text-muted;
    -fx-spacing-small: -spacing-sm;
    -fx-spacing-medium: -spacing-md;
    -fx-spacing-large: -spacing-lg;
}

/* ===== MAIN CONTAINER ===== */
.root {
    -fx-background-color: -color-bg;
    -fx-text-fill: -color-text;
    -fx-font-family: -fx-font-family-body;
    -fx-base: -color-bg;
}

/* Main VBox container - Enhanced gradient */
VBox {
    -fx-background-color: linear-gradient(to bottom, -color-surface 0%, -color-bg 50%, -color-surface 100%);
    -fx-padding: -spacing-xl;
    -fx-spacing: -spacing-lg;
}

/* StackPane for screen routing */
StackPane {
    -fx-background-color: -color-bg;
}

/* ===== TITLE STYLING ===== */
.title-label {
    -fx-font-family: -fx-font-family-title;
    -fx-font-size: 28px;
    -fx-text-fill: linear-gradient(to right, #b8860b, #daa520);
    -fx-effect: dropshadow(gaussian, -fx-glow-gold, 12, 0.6, 0, 2);
    -fx-alignment: center;
    -fx-padding: 0 0 10px 0;
}

/* ===== GAME TEXT AREA ===== */
.game-text-area {
    -fx-background-color: #262626;
    -fx-text-fill: -fx-text-primary;
    -fx-font-family: -fx-font-family-mono;
    -fx-font-size: 14px;
    -fx-background-radius: 10px;
    -fx-border-color: -fx-accent;
    -fx-border-width: 2px;
    -fx-border-radius: 10px;
    -fx-effect: innershadow(gaussian, rgba(0, 0, 0, 0.8), 10, 0.3, 0, 0);
    -fx-padding: 15px;
}

.game-text-area .content {
    -fx-background-color: transparent;
}

.game-text-area .scroll-pane {
    -fx-background-color: transparent;
}

.game-text-area .scroll-bar {
    -fx-background-color: #404040;
}

.game-text-area .scroll-bar .track {
    -fx-background-color: #2a2a2a;
    -fx-background-radius: 5px;
}

.game-text-area .scroll-bar .thumb {
    -fx-background-color: -fx-accent;
    -fx-background-radius: 5px;
}

/* ===== SCROLL PANE ===== */
.scroll-pane {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
}

.scroll-pane .viewport {
    -fx-background-color: transparent;
}

.scroll-pane .corner {
    -fx-background-color: #404040;
}

/* ===== STATISTICS PANEL ===== */
.stats-panel {
    -fx-background-color: linear-gradient(to right, #2a2a2a, #1f1f1f);
    -fx-border-color: -fx-accent;
    -fx-border-width: 1px;
    -fx-border-radius: 8px;
    -fx-background-radius: 8px;
    -fx-padding: 10px;
    -fx-spacing: -fx-spacing-medium;
}

.stat-label {
    -fx-text-fill: -fx-text-secondary;
    -fx-font-size: 13px;
    -fx-font-weight: bold;
}

.stat-value {
    -fx-text-fill: -fx-accent;
    -fx-font-size: 13px;
    -fx-font-weight: bold;
}

/* Health stat - special coloring */
.health-stat {
    -fx-text-fill: #32cd32;
}

.health-stat.low-health {
    -fx-text-fill: #ff6b6b;
    -fx-effect: dropshadow(gaussian, rgba(255, 107, 107, 0.6), 5, 0.8, 0, 0);
}

/* ===== INPUT SECTION ===== */
.input-section {
    -fx-background-color: #2a2a2a;
    -fx-border-color: #555555;
    -fx-border-width: 1px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
    -fx-padding: 8px;
    -fx-spacing: -fx-spacing-small;
}

.text-field {
    -fx-background-color: #404040;
    -fx-text-fill: -fx-text-primary;
    -fx-border-color: #666666;
    -fx-border-width: 1px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
    -fx-padding: 8px 12px;
    -fx-font-size: 14px;
    -fx-prompt-text-fill: -fx-text-muted;
}

.text-field:focused {
    -fx-border-color: -fx-accent;
    -fx-border-width: 2px;
    -fx-effect: dropshadow(gaussian, rgba(184, 134, 11, 0.4), 8, 0.3, 0, 0);
}

/* ===== BUTTONS ===== */
.button {
    -fx-background-color: linear-gradient(to bottom, -color-surface-elevated, -color-surface);
    -fx-text-fill: -color-text;
    -fx-border-color: -color-border;
    -fx-border-width: 1px;
    -fx-border-radius: -radius-md;
    -fx-background-radius: -radius-md;
    -fx-padding: -spacing-md -spacing-lg;
    -fx-font-size: 13px;
    -fx-font-weight: bold;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.6), 4, 0.3, 0, 2);
}

.btn-primary {
    -fx-background-color: linear-gradient(to bottom, -color-primary, derive(-color-primary, -20%));
    -fx-text-fill: -color-text;
    -fx-border-color: -color-primary-hover;
}

.btn-primary:hover {
    -fx-background-color: linear-gradient(to bottom, -color-primary-hover, -color-primary);
    -fx-border-color: -color-accent;
}

.btn-accent {
    -fx-background-color: linear-gradient(to bottom, -color-accent, derive(-color-accent, -20%));
    -fx-text-fill: #000000;
    -fx-border-color: -color-accent-hover;
}

.btn-accent:hover {
    -fx-background-color: linear-gradient(to bottom, -color-accent-hover, -color-accent);
}

.button:hover {
    -fx-background-color: linear-gradient(to bottom, #666666, #505050);
    -fx-border-color: -fx-accent;
    -fx-scale-x: 1.02;
    -fx-scale-y: 1.02;
    -fx-effect: dropshadow(gaussian, rgba(184, 134, 11, 0.6), 8, 0.4, 0, 2);
}

.button:pressed {
    -fx-background-color: linear-gradient(to bottom, #404040, #2a2a2a);
    -fx-scale-x: 0.98;
    -fx-scale-y: 0.98;
    -fx-effect: innershadow(gaussian, rgba(0, 0, 0, 0.8), 5, 0.5, 0, 1);
}

/* ===== SPECIALIZED BUTTONS ===== */

/* Start Game Button - Green theme */
.start-button {
    -fx-background-color: linear-gradient(to bottom, #2d5a2d, #1a4d1a);
    -fx-border-color: #4a8c4a;
    -fx-text-fill: #e6ffe6;
}

.start-button:hover {
    -fx-background-color: linear-gradient(to bottom, #3d6a3d, #2a5d2a);
    -fx-border-color: #66b366;
    -fx-effect: dropshadow(gaussian, rgba(102, 179, 102, 0.6), 8, 0.4, 0, 2);
}

/* Submit Button - Gold theme */
.submit-button {
    -fx-background-color: linear-gradient(to bottom, #8b6914, #705616);
    -fx-border-color: -fx-accent;
    -fx-text-fill: #fffacd;
}

.submit-button:hover {
    -fx-background-color: linear-gradient(to bottom, #a67c1a, #8b6914);
    -fx-border-color: -fx-accent-hover;
    -fx-effect: dropshadow(gaussian, rgba(218, 165, 32, 0.6), 8, 0.4, 0, 2);
}

/* Stats Button - Blue theme */
.stats-button {
    -fx-background-color: linear-gradient(to bottom, #1e3a8a, #1e40af);
    -fx-border-color: #3b82f6;
    -fx-text-fill: #dbeafe;
}

.stats-button:hover {
    -fx-background-color: linear-gradient(to bottom, #1d4ed8, #2563eb);
    -fx-border-color: #60a5fa;
    -fx-effect: dropshadow(gaussian, rgba(96, 165, 250, 0.6), 8, 0.4, 0, 2);
}

/* Reset Button - Red theme */
.reset-button {
    -fx-background-color: linear-gradient(to bottom, #7f1d1d, #991b1b);
    -fx-border-color: #dc2626;
    -fx-text-fill: #fecaca;
}

.reset-button:hover {
    -fx-background-color: linear-gradient(to bottom, #991b1b, #b91c1c);
    -fx-border-color: #ef4444;
    -fx-effect: dropshadow(gaussian, rgba(239, 68, 68, 0.6), 8, 0.4, 0, 2);
}

/* ===== LAYOUT CONTAINERS ===== */
HBox {
    -fx-spacing: -fx-spacing-medium;
    -fx-alignment: center-left;
}

.button-row {
    -fx-alignment: center;
    -fx-spacing: -fx-spacing-large;
    -fx-padding: 10px 0;
}

/* ===== ANIMATIONS AND TRANSITIONS ===== */
.button {
    -fx-transition: all 0.2s ease-in-out;
}

.text-field {
    -fx-transition: border-color 0.3s ease-in-out, -fx-effect 0.3s ease-in-out;
}

/* ===== CUSTOM SCROLLBAR STYLING ===== */
.scroll-bar:vertical {
    -fx-background-color: transparent;
    -fx-pref-width: 12px;
}

.scroll-bar:vertical .track {
    -fx-background-color: #333333;
    -fx-background-radius: 6px;
}

.scroll-bar:vertical .thumb {
    -fx-background-color: -fx-accent;
    -fx-background-radius: 6px;
    -fx-pref-width: 8px;
}

.scroll-bar:vertical .thumb:hover {
    -fx-background-color: -fx-accent-hover;
}

.scroll-bar:vertical .increment-button,
.scroll-bar:vertical .decrement-button {
    -fx-background-color: transparent;
    -fx-pref-height: 0;
}

/* ===== RESPONSIVE DESIGN ===== */
@media screen and (max-width: 800px) {
    .title-label {
        -fx-font-size: 22px;
    }
    
    .button {
        -fx-font-size: 12px;
        -fx-padding: 8px 16px;
    }
    
    .game-text-area {
        -fx-font-size: 12px;
    }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
.button:focused {
    -fx-border-color: #ffffff;
    -fx-border-width: 2px;
    -fx-effect: dropshadow(gaussian, rgba(255, 255, 255, 0.8), 6, 0.5, 0, 0);
}

.text-field:focused {
    -fx-border-width: 2px;
}

/* ===== SPECIAL EFFECTS ===== */
.glow-effect {
    -fx-effect: dropshadow(gaussian, rgba(184, 134, 11, 0.8), 15, 0.6, 0, 0);
}

.danger-glow {
    -fx-effect: dropshadow(gaussian, rgba(220, 38, 38, 0.8), 12, 0.6, 0, 0);
}

.success-glow {
    -fx-effect: dropshadow(gaussian, rgba(34, 197, 94, 0.8), 12, 0.6, 0, 0);
}

/* ===== TOOLTIPS ===== */
.tooltip {
    -fx-background-color: #2a2a2a;
    -fx-text-fill: -fx-text-primary;
    -fx-border-color: -fx-accent;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-size: 12px;
    -fx-padding: 6px 10px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.8), 8, 0.4, 0, 2);
}

/* ===== CONTEXT MENUS ===== */
.context-menu {
    -fx-background-color: #2a2a2a;
    -fx-border-color: -fx-accent;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.8), 10, 0.5, 0, 2);
}

.context-menu .menu-item {
    -fx-background-color: transparent;
    -fx-text-fill: -fx-text-primary;
    -fx-padding: 6px 12px;
}

.context-menu .menu-item:hover {
    -fx-background-color: -fx-accent;
    -fx-text-fill: #000000;
}

/* ===== LOADING INDICATORS ===== */
@keyframes pulse {
    0% { -fx-opacity: 1.0; }
    50% { -fx-opacity: 0.5; }
    100% { -fx-opacity: 1.0; }
}

.loading {
    -fx-animation: pulse 1.5s infinite;
}

/* ===== v4.0.0 ENHANCED UI STYLES ===== */

/* Progress Bar Styles */
.health-progress {
    -fx-accent: #dc143c;
    -fx-background-color: rgba(220, 20, 60, 0.3);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
}

.health-progress .bar {
    -fx-background-color: linear-gradient(to right, #ff4444, #dc143c);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
    -fx-padding: 3px;
}

.mana-progress {
    -fx-accent: #4169e1;
    -fx-background-color: rgba(65, 105, 225, 0.3);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
}

.mana-progress .bar {
    -fx-background-color: linear-gradient(to right, #6495ed, #4169e1);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
    -fx-padding: 3px;
}

.exp-progress {
    -fx-accent: #ffd700;
    -fx-background-color: rgba(255, 215, 0, 0.3);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
}

.exp-progress .bar {
    -fx-background-color: linear-gradient(to right, #ffff44, #ffd700);
    -fx-background-radius: 10px;
    -fx-background-insets: 0;
    -fx-padding: 3px;
}

/* Combat Button Styles */
.combat-button {
    -fx-background-color: linear-gradient(to bottom, #4a4a4a, #2a2a2a);
    -fx-border-color: -fx-accent;
    -fx-border-width: 2px;
    -fx-border-radius: 8px;
    -fx-background-radius: 8px;
    -fx-text-fill: -fx-text-primary;
    -fx-font-weight: bold;
    -fx-font-size: 11px;
    -fx-padding: 8px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.6), 4, 0.3, 0, 2);
    -fx-cursor: hand;
}

.combat-button:hover {
    -fx-background-color: linear-gradient(to bottom, #5a5a5a, #3a3a3a);
    -fx-border-color: -fx-accent-hover;
    -fx-effect: dropshadow(gaussian, -fx-glow-gold, 8, 0.6, 0, 0);
    -fx-scale-x: 1.05;
    -fx-scale-y: 1.05;
}

.combat-button:pressed {
    -fx-background-color: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
    -fx-translate-y: 1px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.8), 2, 0.5, 0, 1);
}

/* Achievement Button Style */
.achievements-button {
    -fx-background-color: linear-gradient(to bottom, #b8860b, #8b6914);
    -fx-border-color: #ffd700;
    -fx-border-width: 2px;
    -fx-border-radius: 8px;
    -fx-background-radius: 8px;
    -fx-text-fill: #ffffff;
    -fx-font-weight: bold;
    -fx-font-size: 12px;
    -fx-padding: 8px 12px;
    -fx-effect: dropshadow(gaussian, rgba(255, 215, 0, 0.5), 6, 0.5, 0, 2);
    -fx-cursor: hand;
}

.achievements-button:hover {
    -fx-background-color: linear-gradient(to bottom, #daa520, #b8860b);
    -fx-effect: dropshadow(gaussian, rgba(255, 215, 0, 0.8), 10, 0.7, 0, 2);
    -fx-scale-x: 1.05;
    -fx-scale-y: 1.05;
}

/* Status Effect Labels */
.status-effect-label {
    -fx-background-color: rgba(50, 50, 50, 0.8);
    -fx-text-fill: #ffffff;
    -fx-font-size: 10px;
    -fx-padding: 3px 6px;
    -fx-background-radius: 12px;
    -fx-border-radius: 12px;
    -fx-border-color: rgba(255, 255, 255, 0.3);
    -fx-border-width: 1px;
}

.status-effect-poison {
    -fx-background-color: rgba(50, 205, 50, 0.3);
    -fx-border-color: #32cd32;
}

.status-effect-burn {
    -fx-background-color: rgba(255, 69, 0, 0.3);
    -fx-border-color: #ff4500;
}

.status-effect-blessed {
    -fx-background-color: rgba(255, 215, 0, 0.3);
    -fx-border-color: #ffd700;
}

.status-effect-cursed {
    -fx-background-color: rgba(139, 0, 139, 0.3);
    -fx-border-color: #8b008b;
}

/* Enhanced Stat Labels */
.mana-stat {
    -fx-text-fill: #6495ed;
    -fx-font-weight: bold;
    -fx-effect: dropshadow(gaussian, rgba(100, 149, 237, 0.5), 2, 0.5, 0, 1);
}

/* Achievement Notification Animation */
@keyframes achievementSlideIn {
    from {
        -fx-translate-y: -50px;
        -fx-opacity: 0;
    }
    to {
        -fx-translate-y: 0;
        -fx-opacity: 1;
    }
}

.achievement-notification {
    -fx-animation: achievementSlideIn 0.5s ease-out;
}

/* Combat Animation Effects */
@keyframes combatHit {
    0% { -fx-scale-x: 1; -fx-scale-y: 1; }
    50% { -fx-scale-x: 1.1; -fx-scale-y: 1.1; }
    100% { -fx-scale-x: 1; -fx-scale-y: 1; }
}

@keyframes criticalHit {
    0% { -fx-scale-x: 1; -fx-scale-y: 1; -fx-rotate: 0; }
    25% { -fx-scale-x: 1.2; -fx-scale-y: 1.2; -fx-rotate: -5; }
    75% { -fx-scale-x: 1.2; -fx-scale-y: 1.2; -fx-rotate: 5; }
    100% { -fx-scale-x: 1; -fx-scale-y: 1; -fx-rotate: 0; }
}

.combat-hit-animation {
    -fx-animation: combatHit 0.3s ease-in-out;
}

.critical-hit-animation {
    -fx-animation: criticalHit 0.6s ease-in-out;
}

/* Enhanced Tooltips */
.tooltip {
    -fx-background-color: rgba(20, 20, 20, 0.95);
    -fx-text-fill: #ffffff;
    -fx-border-color: -fx-accent;
    -fx-border-width: 1px;
    -fx-border-radius: 6px;
    -fx-background-radius: 6px;
    -fx-font-size: 11px;
    -fx-padding: 6px 8px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.8), 8, 0.5, 0, 3);
}

/* ===== TOOLBAR STYLES ===== */
.toolbar {
    -fx-background-color: rgba(42, 42, 42, 0.8);
    -fx-background-radius: 5px;
    -fx-padding: 5px 10px;
    -fx-spacing: 10px;
}

.toolbar-button {
    -fx-background-color: linear-gradient(to bottom, #4a4a4a, #2a2a2a);
    -fx-border-color: #666666;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-text-fill: -fx-text-primary;
    -fx-font-size: 11px;
    -fx-padding: 5px 10px;
    -fx-cursor: hand;
}

.toolbar-button:hover {
    -fx-background-color: linear-gradient(to bottom, #5a5a5a, #3a3a3a);
    -fx-border-color: -fx-accent;
}

.toolbar-button:pressed {
    -fx-background-color: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
}

/* ===== STATUS BAR STYLES ===== */
.status-bar {
    -fx-background-color: rgba(26, 26, 26, 0.6);
    -fx-background-radius: 3px;
    -fx-padding: 5px 10px;
    -fx-border-color: rgba(102, 102, 102, 0.3);
    -fx-border-width: 1px 0 0 0;
}

/* ===== NOTIFICATION ACCENT STYLES ===== */
.notification-success {
    -fx-background-color: rgba(50, 205, 50, 0.2);
    -fx-border-color: #32cd32;
    -fx-border-width: 1px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
}

.notification-info {
    -fx-background-color: rgba(100, 149, 237, 0.2);
    -fx-border-color: #6495ed;
    -fx-border-width: 1px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
}

.notification-warning {
    -fx-background-color: rgba(255, 215, 0, 0.2);
    -fx-border-color: #ffd700;
    -fx-border-width: 1px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
}

/* ===== PRINT STYLES ===== */
@media print {
    .root {
        -fx-background-color: white;
        -fx-text-fill: black;
    }
    
    .button {
        -fx-border-color: black;
        -fx-background-color: white;
        -fx-text-fill: black;
    }
}